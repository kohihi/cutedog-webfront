<!DOCTYPE html>
<html>
    <head>
        <style  type="text/css">
            [v-cloak] {display: none;}
        </style>
        <title>汪喵贴图板</title>
    <meta name="description" content="网站的主题是阿猫阿狗与其他可爱动物的图片。"><meta name="keywords" content="汪喵贴图板,wangmiao,汪喵,萌宠,猫,狗,匿名版,匿名论坛,汪,喵,宠物,动物,搞笑,摸鱼,gif图"><meta name="charset" content="UTF-8"><link rel="shortcut icon" href="favicon.ico"></head>
    <body>
    <div>
        <div class="bgWrap"></div>
        <div id="app" style="width: 1200px; margin: auto; overflow: hidden" v-cloak>
            <a class="text-logo" href="/">汪喵贴图板</a>
            <ul class="nav nav-tabs">
                <li role="presentation">
                    <a href="/#all" v-on:click="getImg(1, 'all')">>>>ALL<<<</a>
                </li>
                <li role="presentation">
                    <a href="/#dog" v-on:click="getImg(1, 'dog')">>>>汪<<<</a>
                </li>
                <li role="presentation">
                    <a href="/#cat" v-on:click="getImg(1, 'cat')">>>>喵<<<</a>
                </li>
                <li role="presentation">
                    <a href="/#other" v-on:click="getImg(1, 'other')">>>>其他<<<</a>
                </li>
            </ul>
            <hr>
            <div class="paginate-nav">
                <a v-if="current_page > 1" @click="setPage('prev')">上一页</a>
                <a v-if="current_page > 2" @click="setPage(current_page-2)">{{current_page - 2}}</a>
                <a v-if="current_page > 1" @click="setPage(current_page-1)">{{current_page - 1}}</a>
                <span>[{{current_page}}]</span>
                <a v-if="max_page > 0" @click="setPage(current_page+1)">{{current_page + 1}}</a>
                <a v-if="max_page > 1" @click="setPage(current_page+2)">{{current_page + 2}}</a>
                <a v-if="max_page > 0" @click="setPage('next')">下一页</a>
            </div>
            <div style="overflow: hidden">
              <ol class="feed">
                  <li class="item" v-for="(img, index) in imgList" :key="img.img_id">
                      <div class="img_id">
                          #{{img.img_id}}
                      </div>
                      <div class="row">
                          <div class="post_info">
                              <label class="user_name">{{img.author}}</label>
                              <label class="timestamp">@ {{img.ct | dateFormat}}</label>
                          </div>
                          <div class="text">
                              <span v-html="img.word"></span>
                              <img :src="u" alt="" v-for="u in img.url">
                          </div>
                      </div>
                      <div class="comment" :data-imgId="img.img_id">
                          <div style="text-align: right; padding-right: 50px; margin: 5px 0px 10px 0px;">
                              <a id="ok" class="a-button" v-on:click="voteW(img.img_id, index)">汪 {{img.w}}</a> /
                              <a id="no" class="a-button" v-on:click="voteM(img.img_id, index)"> 喵 {{img.m}}</a> /
                              <a id="comment" class="a-button" v-on:click="commentsSwitch(index, img.img_id)"> 吐槽 {{img.comments_num}}</a>
                          </div>
                          <transition name="fade">
                          <div v-show="show[index]">
                              <div class="comments" v-for="c in comments[img.img_id]">
                                  <label class="user_name">{{c.author}}</label>
                                  <label class="timestamp">@ {{c.ct | dateFormat}}</label><br>
                                  <span>{{c.content}}</span>
                              </div>
                              <div class="comment-submit">
                                  <textarea class="post" name="post" cols="55" rows="10" :id="'CTA-'+img.img_id"></textarea>
                                  <button v-on:click="submitComment(img.img_id)" class="button-submit">提交</button>
                              </div>
                          </div>
                          </transition>
                      </div>
                  </li>
                  <transition name="fade">
                  <div class="paginate-nav">
                      <a v-if="current_page > 1" @click="setPage('prev')">上一页</a>
                      <a v-if="current_page > 2" @click="setPage(current_page-2)">{{current_page - 2}}</a>
                      <a v-if="current_page > 1" @click="setPage(current_page-1)">{{current_page - 1}}</a>
                      <span>[{{current_page}}]</span>
                      <a v-if="max_page > 0" @click="setPage(current_page+1)">{{current_page + 1}}</a>
                      <a v-if="max_page > 1" @click="setPage(current_page+2)">{{current_page + 2}}</a>
                      <a v-if="max_page > 0" @click="setPage('next')">下一页</a>
                  </div>
                  </transition>
              </ol>
              <div class="right-side">
                  <p style="font-size: 25px">Hello, <b>{{author}}</b><br></p>
                  <input type="text" id="author" placeholder="换个名字？在这里输入..." maxlength="16">
                  <button @click="setAuthor">决定</button>
                  <hr>
                  <li>投稿请将图片链接贴到下方输入框，提交后等待更新。</li>
                  <li>一次提交多个链接用英文分号“;”分割。</li>
                  <li>网站的主题是阿猫阿狗与其他可爱动物。</li>
                  <br>
                  <div>
                      图片链接：
                      <textarea class="post" name="url-post" v-model="imgUrl" id="text-url" cols="55" rows="5" placeholder="http://xxxxxxxxxx"></textarea>
                  </div>
                  <div>
                      附文：
                      <textarea class="post" name="word-post" v-model="imgWords" id="text-word" cols="55" rows="3" placeholder="还想说点什么…"></textarea>
                  </div>
                  <div>
                      投稿到：
                      <select id="select-board" v-model="board">
                          <option v-for="option in boardSelect" v-bind:value="option.value">
                            {{ option.key }}
                          </option>
                      </select>
                  </div>
                  <button v-on:click="submitUrl" class="button-submit">提交</button>
                  <hr>
                  <li>
                  本页面图片皆为用户发布，适用避风港原则。如有涉嫌侵权图片，请邮件联系admin@wangmiao.me，告知图片URL或者图片所在楼层(左上角的)编号以及侵权证据。
                  </li>
                  <a title="回到顶部" id="id_nav_top" v-on:click="backTop" v-show="scrollFlag">
                    <span>▲</span>
                  </a>
              </div>
            </div>

            <transition name="fade">
            <div class="flash-message" v-if="alert">
                {{message}}
            </div>
            </transition>
            <div class="footer">
              <hr>
              <h2>- .... .. ... -....- .. ... -....- ..-. --- --- - . .-. </h2>
            </div>
        </div>
    </div>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-101079172-2"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-101079172-2');
    </script>
    <script type="text/javascript" src="main.js?48f19161d609b0919dda"></script></body>
</html>
